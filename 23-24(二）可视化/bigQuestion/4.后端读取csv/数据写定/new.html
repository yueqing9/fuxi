<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .box{
            height: 400px;
            width: 1200px;
            border: solid 1px black;
            display: inline-block;
        }
    </style>
    <script src='echarts.js'></script>
</head>
<body>   
    <div class='box' id='main1'></div>
    <div class='box' id='main2'></div>
    <script>
        var myChart = echarts.init(document.getElementById('main1'));
        
        var opt = {
            tooltip: {
                trigger: 'item',
                formatter: function(params) {
                    return '国家: ' + params.name + '<br/>GDP总额: ' + params.value[1];
                }
            },
            xAxis: {
                type: 'category',
                data: ['国家1', '国家2', '国家3']
            },
            yAxis: {type: 'value'},
            series: [{    
                type: 'scatter',
                name: "GDP总额",
                data: [
                    ['国家1', 175],
                    ['国家2', 612],
                    ['国家3', 372]
                ],
                symbolSize: 20
            }]
        };
        myChart.setOption(opt);

        var myChart2 = echarts.init(document.getElementById('main2'));
        function drawpie(v1, v2, v3, country){
            var opt2 = {
                title: {
                    text: country + ' GDP构成',
                    left: 'center'
                },
                tooltip: {
                    trigger: 'item',
                    formatter: '{a} <br/>{b}: {c} ({d}%)'
                },
                legend: {
                    orient: 'vertical',
                    left: 'left',
                    data: ['第一产业', '第二产业', '第三产业']
                },
                series: [{    
                    type: 'pie',
                    name: country + "GDP",
                    data: [
                        {name: '第一产业', value: v1}, 
                        {name: '第二产业', value: v2}, 
                        {name: '第三产业', value: v3}
                    ]
                }]
            };
            myChart2.setOption(opt2);
        }
        
        drawpie(21, 56, 98, '国家1');
        
        var datas = [
            [21, 56, 98],
            [102, 189, 321],
            [95, 74, 203]
        ];

        myChart.on('click', function(params){
            console.log(params.dataIndex);
            var curdata = datas[params.dataIndex];
            drawpie(curdata[0], curdata[1], curdata[2], '国家' + (params.dataIndex + 1));
        });
    </script>
</body>
</html>